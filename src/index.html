<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="stylesheet"
      href="./main.css"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Checkout</title>
</head>
<body>
    <div id="app" class="app pb-4">
        <nav class="navbar">
            <div class="container-fluid navbar-text-center">
                <div data-j-logo="" class="ds-logo ds-logo--light" data-v-2384b40e=""><svg xmlns="http://www.w3.org/2000/svg" width="90" height="30" viewBox="0 0 90 30" aria-label="Adyen logo" role="img" data-j-logo-image="" class="ds-logo__image" data-v-2384b40e=""><path d="M27.7851 18.5234H26.0557C25.555 18.5234 25.1454 18.1138 25.1454 17.6131V6.622H21.7093C19.957 6.622 18.5234 8.05563 18.5234 9.80784V19.3198C18.5234 21.0721 19.957 22.5057 21.7093 22.5057H34.4071V0H27.7851V18.5234ZM12.6978 6.6221H0.22756V10.5816H8.35145C8.85209 10.5816 9.26169 10.9913 9.26169 11.4919V18.5235H7.53224C7.0316 18.5235 6.622 18.1139 6.622 17.6132V12.5614H3.18584C1.43363 12.5614 0 13.995 0 15.7473V19.2972C0 21.0494 1.43363 22.483 3.18584 22.483H15.8837V9.78518C15.8837 8.05573 14.4501 6.6221 12.6978 6.6221ZM44.6018 18.5235H46.3313V6.6221H52.9533V25.9419C52.9533 27.6942 51.5196 29.1278 49.7674 29.1278H37.2971V24.4856H46.3313V22.5058H40.2554C38.5032 22.5058 37.0696 21.0722 37.0696 19.3199V6.6221H43.6916V17.6132C43.6916 18.1139 44.1012 18.5235 44.6018 18.5235ZM68.2908 6.6221H55.593V19.32C55.593 21.0722 57.0266 22.5058 58.7788 22.5058H71.2491V18.5462H63.1252C62.6246 18.5462 62.215 18.1366 62.215 17.636V10.5816H63.9444C64.4451 10.5816 64.8547 10.9913 64.8547 11.4919V16.5437H68.2908C70.043 16.5437 71.4767 15.1101 71.4767 13.3579V9.80794C71.4767 8.05573 70.043 6.6221 68.2908 6.6221ZM74.1163 6.6221H86.8141C88.5891 6.6221 90 8.05573 90 9.78518V22.483H83.378V11.4919C83.378 10.9913 82.9684 10.5816 82.4677 10.5816H80.7383V22.5058H74.1163V6.6221Z" data-v-2384b40e=""></path></svg> <!----></div><span class="mb-0 h1 navbar-text-center"><a class="h1" style="text-decoration: none;" href="../">Checkout Generator</a></span>
                <div class="row float-end">
                    <div class="col">
                        <label class="row" for="component">Country Code</label>
                        <div class="row justify-content-center">
                            <div class="col flag">
                                <img :src="'https://ca-test.adyen.com/ca/adl/img/flags/' + overallRequest.countryCode.toLowerCase() + '.svg'" alt="Flag icon">
                            </div>
                            <div class="col country-select">
                                <select v-model="overallRequest.countryCode" class="form-select" aria-label="country" autocomplete="off">
                                    <option v-for="country in countryList" :value=country>{{ country }}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <label for="component">Currency</label>
                            <div class="col">
                                <select v-model="overallRequest.amount.currency" class="form-select currency-select" aria-label="currency" autocomplete="off">
                                    <option v-for="currency in currencyList" :value=currency>{{ currency }}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <div class="container my-4" class="success-bg-subtle">
            <div class="row">
                <div class="col">
                    <div class="setting">
                        <label class="row" for="component">Component/Drop-in - {{ capFirstLetterComponent }}</label>
                        <select v-model="component" @change="resetComponentConfigs()" class="row form-select" aria-label="component select">
                            <option selected>dropin</option>
                            <option v-for="comp in componentForList" :value=comp>{{ comp }}</option>
                        </select>
                    </div>
                </div>
                <div class="col">
                    <div class="setting">
                        <label class="row" for="flow">Flow</label>
                        <div class="btn-group">
                            <input @click="() => {flow = 'advanced'; createComponent(); resetMainEvents()}" type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                            <label class="btn btn-light" for="btnradio1">Advanced</label>
                            <input @click="() => {flow = 'sessions'; createComponent(); resetMainEvents()}" type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                            <label class="btn btn-light" for="btnradio2">Sessions</label>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="setting">
                        <label class="row" for="apiversion">API Version</label>
                        <select class="row form-select" aria-label="api version select" v-model="apiVersion">
                            <option selected>{{ apiVersionList[0] }}</option>
                            <option v-for="vers in apiVersionForList" :value=vers>{{ vers }}</option>
                        </select>
                    </div>
                </div>
                <div class="col">
                    <div class="setting">
                        <label class="row" for="sdkversion">SDK Version</label>
                        <select class="row form-select" aria-label="sdk version select" v-model="sdkVersion">
                            <option selected>{{ sdkVersionList[0] }}</option>
                            <option v-for="vers in sdkVersionForList" :value=vers>{{ vers }}</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="container text-center justify-content-evenly my-4">
            <div class="row">
                <div class="col">
                    <div class="btn-group">
                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                            {{ capFirstLetterComponent }} events
                        </button>
                        <ul class="dropdown-menu">
                            <li><a  v-for="event in componentEvents" class="dropdown-item" :class="event" @click="e => componentEventChange(e, event)" :id="event">{{ event }}</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col">
                    <div class="btn-group">
                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                            {{ capFirstLetterComponent }} configurations
                        </button>
                        <ul class="dropdown-menu">
                            <li><a  v-for="config in componentConfigurations" class="dropdown-item" :class="config" @click="e => componentConfigurationChange(e, config)" :id="config">{{ config }}</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col">
                    <div class="btn-group">
                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                            Main events
                        </button>
                        <ul class="dropdown-menu">
                            <li><a  v-for="event in mainEventList" class="dropdown-item main-config-list" :class="(flow === 'advanced' && (event === 'onSubmit' || event === 'onAdditionalDetails' || event === 'onChange')) ? 'disabled' : (flow === 'sessions' && (event === 'beforeSubmit' || event === 'onPaymentCompleted' || event === 'onChange')) ? 'disabled' : ''" @click="e => mainEventChange(e, event)" :id="event">{{ event }}</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container text-center my-3">
            <div class="row justify-content-center">
                <div class="col-6 d-grid">
                    <button type="button" @click="createComponent" class="btn btn-outline-successor btn-lg">Generate {{ component }}</button>
                </div>
            </div>
        </div>
        <div class="container mt-5">
            <div class="row justify-content-between">
                <div class="col-6 code">
                    <h6 class="display-6"><u>Configuration</u></h6>
                    <pre class="configuration">
                        <code id="configuration">
                        </code>
                    </pre>
                </div>
                <div class="col-6">
                    <div id="componentDiv" class="component-dropin">
                    </div>
                </div>
            </div>
        </div>
        <div class="container mt-2 px-4">
            <div class="row justify-content-evenly gx-5">
                <div class="col-6 request-box">
                    <div class="d-flex">
                        <h1 class="display-6 me-2">
                            <u>Request</u>
                        </h1>
                        <span class="align-self-center">to {{ currentEndpoint }} endpoint</span>
                        <button class="my-1 ms-auto btn btn-successor" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">Change</button>
                    </div>
                    <pre id="request" class="request"></pre>
                </div>
                <div class="col-6 response-box">
                    <h1 class="display-6"><u>Response</u></h1>
                    <pre id="response" class="response"></pre>
                </div>
            </div>
        </div>
        <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Change request</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" @click="resizeInputs()"></button>
            </div>
            <div class="offcanvas-body">
                <div class="params-list">
                    <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                        Additional Parameters
                    </button>
                    <ul class="dropdown-menu">
                        <li><a  v-for="(value, param) in additionalParams" class="dropdown-item" :class="param" @click="e => changeRequestParams(e, param)" :id="param">{{ param }}: {{ value }}</a></li>
                    </ul>
                </div>
                <p>{</p>
                <div class="indent-one">
                    <p v-for="(valueA, keyA) in requestSansVersion">{{ keyA }}:  
                        <template v-if="Array.isArray(valueA)">
                            <template v-for="(item, index) in valueA">
                                <template v-if="typeof item == 'string'"><input type="text" class="request-input" :value="overallRequest[keyA][index]" v-model="overallRequest[keyA][index]" @input="requestUpdate()"></template>
                                <template v-else-if="typeof item == 'boolean'"><input type="checkbox" class="request-input" v-model="overallRequest[keyA][index]" @change="requestUpdate()"></template>
                                <template v-else-if="typeof item == 'number'"><input type="number" class="request-input" :value="overallRequest[keyA][index]" v-model="overallRequest[keyA][index]" @input="requestUpdate()"></template>
                                <template v-else-if="typeof item == 'object'">
                                    <span>{</span>
                                    <div class="indent-two">
                                        <template v-for="(valueItem, keyItem) in item">
                                            <p class="line-height">
                                                {{ keyItem }}: 
                                                <template v-if="typeof valueItem == 'string'"><input type="text" class="request-input" :value="valueItem" v-model="overallRequest[keyA][index][keyItem]" @input="() => {requestUpdate();console.log(valueItem);}"></template>
                                                <template v-else-if="typeof valueItem == 'boolean'"><input type="checkbox" class="request-input" v-model="overallRequest[keyA][index][keyItem]" @change="requestUpdate()"></template>
                                                <template v-else-if="typeof valueItem == 'number'"><input type="number" class="request-input" :value="valueItem" v-model="overallRequest[keyA][index][keyItem]" @input="requestUpdate()"></template>
                                            </p>
                                        </template>
                                    </div>
                                    <p>},</p>
                                </template>
                            </template>
                        </template>
                        <template v-else-if="typeof valueA == 'object'">
                            <span>{</span>
                            <div class="indent-two">
                                <template v-for="(valueB, keyB) in valueA">
                                    <p class="line-height">
                                        {{ keyB }}: 
                                        <template v-if="typeof valueB == 'string'"><input type="text" class="request-input" :value="valueB" v-model="overallRequest[keyA][keyB]" @input="requestUpdate()"></template>
                                        <template v-else-if="typeof valueB == 'boolean'"><input type="checkbox" class="request-input" v-model="overallRequest[keyA][keyB]" @change="requestUpdate()"></template>
                                        <template v-else-if="typeof valueB == 'number'"><input type="number" class="request-input" :value="valueB" v-model="overallRequest[keyA][keyB]" @input="requestUpdate()"></template>
                                    </p>
                                </template>
                            </div>
                            <p>},</p>
                        </template>
                        <template v-else>
                            <template v-if="typeof valueA == 'string'"><input type="text" class="request-input" :value="valueA" v-model="overallRequest[keyA]" @input="requestUpdate()"></template>
                            <template v-else-if="typeof valueA == 'boolean'"><input type="checkbox" class="form-check-input request-input" :id="valueA" v-model="overallRequest[keyA]" @change="requestUpdate()"><label :for="valueA">{{ valueA }}</label></template>
                            <template v-else-if="typeof valueA == 'number'"><input type="number" class="request-input" :value="valueA" v-model="overallRequest[keyA]" @input="requestUpdate()"></template>
                        </template>
                    </p>
                </div>
                <p>}</p>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script src="./lists.js"></script>
<script src="./configs.js"></script>
<script src="./configStrings.js"></script>
<script src="./requests.js"></script>
<script src="./utils.js"></script>
<script src="./index.js"></script>
</html>